<div class="container mx-auto p-4">
    <h1 class="text-3xl font-bold mb-6 text-center text-primary">
        {{ isEditMode() ? 'Edit Blog Post' : 'Create New Blog Post' }}
    </h1>

    <form [formGroup]="postForm" (ngSubmit)="onSubmit()" class="p-fluid">
        <div class="field mb-4">
            <label for="title" class="block text-900 font-medium mb-2">Title</label>
            <input id="title" type="text" pInputText formControlName="title"
                [ngClass]="{ 'ng-invalid ng-dirty': postForm.get('title')?.invalid && postForm.get('title')?.touched }" />
            <small *ngIf="postForm.get('title')?.invalid && postForm.get('title')?.touched" class="p-error">Title is
                required.</small>
        </div>

        <div class="field mb-4">
            <label for="excerpt" class="block text-900 font-medium mb-2">Excerpt (Short Summary)</label>
            <textarea id="excerpt" pInputTextarea formControlName="excerpt" rows="3"
                [ngClass]="{ 'ng-invalid ng-dirty': postForm.get('excerpt')?.invalid && postForm.get('excerpt')?.touched }"></textarea>
            <small *ngIf="postForm.get('excerpt')?.invalid && postForm.get('excerpt')?.touched" class="p-error">Excerpt
                is required.</small>
        </div>

        <div class="field mb-4">
            <label for="body" class="block text-900 font-medium mb-2">Body (Full Content)</label>
            <p-editor id="body" formControlName="body" [style]="{'height':'320px'}"></p-editor>
            <small *ngIf="postForm.get('body')?.invalid && postForm.get('body')?.touched" class="p-error">Body is
                required.</small>
        </div>

        <div class="field-checkbox mb-4">
            <p-checkbox id="published" formControlName="published" [binary]="true"></p-checkbox>
            <label for="published" class="ml-2">Publish Now</label>
        </div>

        <div class="flex justify-content-end gap-2">
            <p-button type="button" label="Cancel" icon="pi pi-times" styleClass="p-button-outlined"
                (click)="router.navigate(['/dashboard'])"></p-button>
            <p-button type="submit" [label]="isEditMode() ? 'Update Post' : 'Create Post'" icon="pi pi-check"
                [loading]="loading()"></p-button>
        </div>
    </form>
</div>
<p-toast></p-toast>